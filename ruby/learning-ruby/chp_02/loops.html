<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <title>Learning Ruby</title>
  <link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
    <table width="100%" border="0">
    <tr>
      <td align="left" width="43%">
        <a href="../chp_02/about.html">
            <img src="../left_arrow.gif" alt="<-" border="0" />
	        About this chapter
        </a>
      </td>
      <td align="center" width="10%"> 
		<a href="../index.html">
		<img src="../up_arrow.gif" alt="" border="0" /><br />
		<!-- Home -->
		</a>
      </td>
      <td align="right" width="47%">
        <a href="../chp_02/user_input.html">
            Getting user input
            <img src="../right_arrow.gif" alt="->" border="0" />
        </a>
      </td>
    </tr>
    </table>
<h1>Loops</h1>

<p>Now you are going to be introduced to one of the nifty aspects of
computer programming: loops.</p>

<p>Using your favorite text editor, type the following:</p>

<center><img src="loops/01.gif" /></center>

<p>Can you guess what this piece of code does?  Save the file as
<b>loops.rb</b> and run it.</p>

<center><img src="loops/02.gif" /></center>

<p>As you can see, the contents of the loop have been executed 4 
times.  This is the most straight forward loop that Ruby offers.</p>

<h2><a name="counting">Counting</a></h2>

<p>Here is another example.  Now we use our knolwedge of variables to 
print the numbers from 1 to 5.</p>

<center><img src="loops/03.gif" /></center>

<p>Remember that the <b>Integer#to_s</b> method converts the integer 
into a string, so we can add it to the string <b>"count = "</b>.</p>

<p>When you run this you should get:</p>

<center><img src="loops/04.gif" /></center>

<h2><a name="sum">A sum of numbers</a></h2>

<p>Suppose that I want to know the sum of all the numbers from 1 
to 11.  We already know how to get all the numbers from 1 to 11.
All we really need to do is add them together:</p>

<center><img src="loops/05.gif" /></center>

<p>You should get something like this:</p>

<center><img src="loops/06.gif" /></center>

<h2><a name="mult">Multi-line statements.</a></h2>

<p>That <b>puts</b> statement in the last example was getting somewhat
long.  What happens if you want to type a very long line?</p>

<p>You can make lines "wrap around" by putting a backslash - <b>\</b>
- at the very end of the line.  Look at this example in <b>irb</b>.</p>

<center><img src="loops/07.gif" /></center>

<p>That '<b>=> nil</b>' simply means that <b>puts</b> returns nothing.
In other words, if you typed:</p>

                   <!-- Pick a small width so the table has to
                        expand and just fits the required size. -->
                   <table class="code" width="10%">
                   <tr>
                   <td>
                   <pre class="code">

variable = puts "hello"  
                       </pre>

                       </td>
                       </tr>
                       </table>

<p>Then <b>variable</b> would end up with nothing.  And Ruby's object
for "nothing" is <b>nil</b>.</p>

<p>What you should be paying attention to is the fact that we spread
out the <b>puts</b> over two lines. Let's use what we just learned
to rewrite that line in our program: </p>

<center><img src="loops/08.gif" /></center>

<p>Indeed, you can use this to print as much as you like:</p>

<center><img src="loops/09.gif" /></center>

<p>Notice.  You don't have to make the program line up like that.
I did it because I think it looks better.  When you run this program
you will see:</p>

<center><img src="loops/10.gif" /></center>

<p>
<table>
<tr class="warning">
<td>
<strong>Warning:</strong>
The backslash '<b>\</b>' must be the <em>last</em> character in the
line.  If you put so much as a space after it, you will get an error.
</td>
</tr>
</table>
</p>


<h2><a name="examples">More examples</a></h2>

<p>Let's try counting backwards.</p>

<p>Just to illustrate a couple of points.  Here are some examples.
</p>

<h3><a name="backwards">Counting backwards</a></h3>

<p>Type in this program:</p>

<center><img src="loops/11.gif" /></center>

<p>This produces:</p>
<center><img src="loops/12.gif" /></center>

<h3><a name="var">Counting a variable number of times</a></h3>

<p>These loops also work with variables.</p>

<p>In this example, we compute the <strong>factorial</strong>
of a number.  The factorial of a number <b>n</b> is the product:</p>

<pre>
1 x 2 x 3 x ... x n
</pre>

<p>The symbol for this is <b>n!</b>.  In this example we compute.</p>

<pre>
6! = 6 x 5 x 4 x 3 x 2 x 1 = 720
</pre>

<p>Type and run this program:</p>

<center><img class="large" src="loops/13.gif" /></center>

<h2><a name="ex">Exercises</a></h2>

<ol>
   <li><p>What is the sum of all the integers from 1 to 1000?</p></li>
   <li><p>What is the sum of all the integers from 10 to 100?</p></li>
   <li><p>Print out all the lyrics to 
       "99 bottles of beer on the wall".</p>
   </li>
   <li><p>Here is a more difficult problem.</p>
       <p>There is a song that goes like this:</p>
      <blockquote>
      <em>
      On the first day of Christmas, my true love sent to me
      a partridge in a pear tree. <br />
      On the second day of Christmas, my true love sent to me
      two turtle doves <strong>and</strong> a partridge in a
      pear tree.<br />
      ...
      </em>
      </blockquote>
      If this goes on for the 12 days of Christmas.  How many presents
      will your true love send you over Christmas?<br />
      <em>(Hint: You will need a loop inside another).</em>
   </li>
</ol>
    <table width="100%" border="0">
    <tr>
      <td align="left" width="43%">
        <a href="../chp_02/about.html">
            <img src="../left_arrow.gif" alt="<-" border="0" />
	        About this chapter
        </a>
      </td>
      <td align="center" width="10%"> 
		<a href="../index.html">
		<img src="../up_arrow.gif" alt="" border="0" /><br />
		<!-- Home -->
		</a>
      </td>
      <td align="right" width="47%">
        <a href="../chp_02/user_input.html">
            Getting user input
            <img src="../right_arrow.gif" alt="->" border="0" />
        </a>
      </td>
    </tr>
    </table>
</body>
</html>
