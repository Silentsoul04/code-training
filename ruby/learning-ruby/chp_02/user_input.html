<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <title>Learning Ruby</title>
  <link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
    <table width="100%" border="0">
    <tr>
      <td align="left" width="43%">
        <a href="../chp_02/loops.html">
            <img src="../left_arrow.gif" alt="<-" border="0" />
	        Loops
        </a>
      </td>
      <td align="center" width="10%"> 
		<a href="../index.html">
		<img src="../up_arrow.gif" alt="" border="0" /><br />
		<!-- Home -->
		</a>
      </td>
      <td align="right" width="47%">
        <a href="../chp_02/conditionals.html">
            Conditionals
            <img src="../right_arrow.gif" alt="->" border="0" />
        </a>
      </td>
    </tr>
    </table>
<h1>Getting user input</h1>

<p>Let's make the program that greets the user.  We will ask the user
for his or her name, and then say 'hello'.  We use the <b>gets</b>
method to get the user input (as a string).</p>

<center><img src="user_input/01.gif" /></center>

<p>Save this and run it:</p>

<center><img src="user_input/02.gif" /></center>

<p>What happened?  Why did it go to the next line?</p>

<p>It went to the next line because you <em>typed</em> a new-line 
character.  That is, because you pressed <b>Enter</b>.</p>

<p>This will make more sense if we bo back to <b>irb</b>.  Start 
<b>irb</b> and type the <b>gets</b> line.  When the computer waits 
for the input type in a name.  Look carefully at what happens:</p>

<center><img src="user_input/03.gif" /></center>

<p>What's that "<b>\n</b>" at the end of the string?</p>
<p>That "<b>\n</b>" represents a <strong>new-line</strong> 
character.  This is the character that your keyboard sends when you 
press the <b>Enter</b> key.</p>

<p>
<table cellspacing="0">
<tr class="tip">
<td>
<strong>Tip:</strong>
See how we used <b>irb</b> to figure out what was happening?  
Whenever something doesn't go the way you expect, it is a good idea
to try it out in <b>irb</b>.
</td>
</tr>
</table>
</p>

<h2><a name="newline">That pesky newline!</a></h2>

<p>Okay, we know what's wrong.  But how do we get rid of that pesky 
new-line?</p>

<p>Ruby strings come with the method <b>String#chomp</b> for 
precisely this purpose.  Let's go back to <b>irb</b> so we can see 
it in action.</p>

<center><img src="user_input/04.gif" /></center>

<p>Beautiful! The <b>String#chomp</b> method gives you back the 
string, but without the terminating newline.  So now we can write:</p>

<center><img src="user_input/05.gif" /></center>

<p>Notice that <b>name</b> still contains the new-line.  It's 
<b>chomped_name</b> we want.  But why have another variable?
It's better to just write:</p>

                   <!-- Pick a small width so the table has to
                        expand and just fits the required size. -->
                   <table class="code" width="10%">
                   <tr>
                   <td>
                   <pre class="code">

>> name = name.chomp
                       </pre>

                       </td>
                       </tr>
                       </table>

<p>Now <b>name</b> has the new-line removed.</p>

<h2><a name="back">Back to our program</a></h2>

<p>Now we can go back to our program and fix the problem.</p>

<center><img src="user_input/06.gif" /></center>

<p>Now, here is a neat thing about Ruby:</p>
<ol>
  <li><b>chomp</b> is a string method (<b>String#chomp</b>).</li>
  <li><b>gets</b> returns (gives you back) a string.</li>
</ol>
<p>Therefore, you can write <b>gets.chomp</b> to make <b>String#chomp</b>
be called on whatever <b>gets</b> returns.  In other words, we can write:</p>

<center><img src="user_input/07.gif" /></center>

<p>Now, isn't that beautiful?
Type this in and run it:</p>

<center><img src="user_input/08.gif" /></center>

<h2><a name="ex">Exercises</a></h2>

<ol>
   <li><p>Write a program that will take two words and print them in
       opposite order.</p>
   </li>
   <li><p>Write a program that behaves like this:</p>
       <center><img src="user_input/09.gif" /></center> 
       <p>Assume that the year the user was born is simply the
          current year minus the age.  Remember <b>String#to_i</b></p>
   </li>
   <li><p>Write a program that asks for a number and a sentence
       and prints the sentence backwards that many times.  It should:</p>

       <center><img src="user_input/10.gif" /></center>

       <p>There is more than one way to make this program.  Use any you 
       like.</p>
   </li>
   <li><p>What do you think this line does?:</p>
                   <!-- Pick a small width so the table has to
                        expand and just fits the required size. -->
                   <table class="code" width="10%">
                   <tr>
                   <td>
                   <pre class="code">

number = gets.chomp.to_i  
                       </pre>

                       </td>
                       </tr>
                       </table>
       <p>Try it out in <b>irb</b>.</p>
   </li>
   <li><p>Write a factorial program, which takes a number from the
       user and computes the factorial.  It should behave similar
       to this:</p>

       <center><img src="user_input/11.gif" /></center>
   </li>
</ol>
    <table width="100%" border="0">
    <tr>
      <td align="left" width="43%">
        <a href="../chp_02/loops.html">
            <img src="../left_arrow.gif" alt="<-" border="0" />
	        Loops
        </a>
      </td>
      <td align="center" width="10%"> 
		<a href="../index.html">
		<img src="../up_arrow.gif" alt="" border="0" /><br />
		<!-- Home -->
		</a>
      </td>
      <td align="right" width="47%">
        <a href="../chp_02/conditionals.html">
            Conditionals
            <img src="../right_arrow.gif" alt="->" border="0" />
        </a>
      </td>
    </tr>
    </table>
</body>
</html>
